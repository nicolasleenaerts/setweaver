---
output: github_document
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README_",
  out.width = "100%"
)
```

# setweaver

<!-- badges: start -->
[![CRAN status](https://www.r-pkg.org/badges/version/setweaver)](https://CRAN.R-project.org/package=setweaver)
<!-- badges: end -->

*setweaver* is an R package designed to help users create sets of variables based on a mutual information approach. In this context, a set is a collection of distinct elements (e.g., variables) that can also be treated as a single entity. Mutual information, a concept from probability theory, quantifies the dependence between two variables by expressing how much information about one variable can be gained from observing the other.

## Authors
[Aaron Fisher](https://psychology.berkeley.edu/people/aaron-fisher)\
[Nicolas Leenaerts](https://nicolasleenaerts.github.io/)

## Installation

You can install *setweaver* with the following code snippet:

You can install *setweaver* from GitHub with the following code snippet:

``` r
devtools::install_github('nicolasleenaerts/setweaver')
```

You can then attach the package as follows:

```{r setup}
library(setweaver)
```

## Simple example 

Create sets of variables using the *pairmi* function, which takes a dataframe of variables and pairs them up to a specified maximum number of elements. 

```{r example_1, results='hide',message=FALSE}
# Loading the package, which automatically also downloads the example data (misimdata)
library(setweaver) 

# Pairing variables
results = pairmi(misimdata[,2:11],alpha = 0.05,n_elements = 5)
```

```{r table_1,echo=FALSE,results='asis'}
knitr::kable(results$expanded.data[c(1:5),],caption = 'Table 1. Expanded Data',align = c('c'))
```

```{r table_2,echo=FALSE,results='asis'}
knitr::kable(results$sets,caption = 'Table 2. Information on sets',align = c('c'))
```


Once the sets are created with the *pairmi* function , you can assess their relationship with a specific outcome using the *probstat* function. 

```{r example_3, results='hide',message=FALSE}
# Evaluating the sets
evaluated_sets = probstat(misimdata$y,results$expanded.data[,results$sets$set],nfolds = 5)
```

```{r table_3,echo=FALSE,results='asis'}
knitr::kable(evaluated_sets[c(1:5),],caption = 'Table 3. Evaluated sets',align = c('c'))
```

## More informations

Consult the vignette for more detailed information!